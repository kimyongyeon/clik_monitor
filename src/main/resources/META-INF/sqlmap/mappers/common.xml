<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="clikmonitor.nanet.go.kr.mapper.CommonMapper">

	<!-- 지역별 의회 목록 조회 -->
	<select id="selectAreaList" parameterType="commonVO" resultType="commonVO">
		SELECT /* getAreaList : 지역별 의회 목록 조회 */ LOASM_CODE AS LOASMCODE,
			   LOASM_NM AS LOASMNM,

		  (SELECT CODE_ID_NM
		   FROM COMMON_CODE
		   WHERE CL_CODE='LMC'
			 AND CODE_ID = BRTC_CODE) AS COMDENM,
			   CTPRVNGUGUN_CODE AS CTPRVNGUGUNCODE,
			   INSTT_CL_CODE AS INSTTCLCODE
		FROM ORGAN,
			 COLGOVER
		WHERE ORGAN.LOASM_CODE = COLGOVER.RASMBLY_ID
		ORDER BY LOASM_CODE ASC
	</select>

	<!-- 기초별 의회 목록 조회 -->
	<select id="selectBasicList" parameterType="commonVO" resultType="commonVO">
		SELECT /* getBasicList : 기초별 의회 목록 조회 */ LOASM_CODE AS LOASMCODE ,
			   LOASM_NM AS LOASMNM ,
			   BRTC_CODE AS BRTCCODE ,
			   CTPRVNGUGUN_CODE AS CTPRVNGUGUNCODE ,
			   INSTT_CL_CODE AS INSTTCLCODE
		FROM ORGAN,
			 COLGOVER
		WHERE ORGAN.LOASM_CODE = COLGOVER.RASMBLY_ID
		ORDER BY LOASM_CODE ASC
	</select>

	<!-- 광역별 의회 목록 조회 -->
	<select id="selectBroadList" parameterType="commonVO" resultType="commonVO">
		SELECT /* getBroadList : 광역별 의회 목록 조회 */ LOASM_CODE AS LOASMCODE ,
			   LOASM_NM AS LOASMNM ,
			   BRTC_CODE AS BRTCCODE ,
			   CTPRVNGUGUN_CODE AS CTPRVNGUGUNCODE ,
			   INSTT_CL_CODE AS INSTTCLCODE
		FROM ORGAN,
			 COLGOVER
		WHERE INSTT_CL_CODE = 'INTSTTCL_000024'
		  AND ORGAN.LOASM_CODE = COLGOVER.RASMBLY_ID
		ORDER BY LOASM_CODE ASC
	</select>

	<!-- 지역선택 콤보 조회 -->
	<select id="selectBrtcCodeDetails" parameterType="commonSearchVO" resultType="commonVO">
		<![CDATA[
			SELECT CODE_ID AS code ,
				   CODE_ID_NM AS codenm
			FROM common_code
			WHERE CL_CODE = #brtcCode#
			  AND USE_AT = 'Y'
			ORDER BY CODE_ORDR ASC
		]]>
	</select>
	<!-- 의회명 콤보 조회 -->
	<select id="selectLoasmInfo" parameterType="commonSearchVO" resultType="commonVO">
		<![CDATA[
			SELECT LOASM_CODE AS code ,
				   LOASM_NM AS codenm ,
				   BRTC_CODE AS brtcCode ,
				   CTPRVNGUGUN_CODE AS ctprvngugunCode ,
				   INSTT_CL_CODE AS insttClCode
			FROM organ,
				 COLGOVER
			WHERE BRTC_CODE = #brtcCode#
			  AND INSTT_CL_CODE = #insttClCode#
			  AND organ.loasm_code = COLGOVER.rasmbly_id
			ORDER BY LOASM_CODE ASC
		 ]]>
	</select>

</mapper>
